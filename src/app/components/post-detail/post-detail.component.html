
<mat-toolbar color="primary">
    <button 
        mat-icon-button
        [routerLink]="['/posts']" 
    >
        <mat-icon>arrow_left</mat-icon>
        BACK TO HOME
    </button>
</mat-toolbar>
<div *ngIf="loaded">
    <mat-card >
        <mat-card-header >
            <div mat-card-avatar>
                <mat-icon  style='font-size: 56px;'>mood</mat-icon>
            </div>
            <mat-card-title>{{title}}</mat-card-title>
            <mat-card-subtitle>{{author}} {{publish_date}}</mat-card-subtitle>
        </mat-card-header>

        <mat-card-content 
            [innerHTML]="content"
        >
        </mat-card-content>

        <mat-card-actions>
                <button 
                    mat-button
                >
                    COMMENTS: {{commentsCounter}}
                </button>
                <button 
                    class='pull-right'
                    mat-raised-button
                    (click)="setReplyBox()"
                >
                    ADD COMMENT
                </button>
        </mat-card-actions>
        <mat-card-footer *ngIf="replyBox === null">
            <app-reply-form
                [postId]="id"
                [parent_id]="null"
            >
            </app-reply-form>
        </mat-card-footer>
    </mat-card>
    <hr/>
    <app-comment-item 
        *ngFor="let comment of commentsTree" 
        [comment]="comment"
        [replyBox]="replyBox"
    >
    </app-comment-item>
</div>
<div *ngIf="!loaded">
    LOADING POST
</div>

